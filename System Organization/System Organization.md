# 系统结构复习
* 减少客观题，增加大题。
* 单选10'+填空10'+大题80'
* 全部作业都要会做，不会出作业原题
* 重新做一遍作业
* 剩下的客观题，PPT为主
## Chap1 系统结构基本概念
系统结构与组成实现的关系，什么是透明性，分类的几种方式，系统设计的三原则，定量定性程序局部性，系统程序结构，计算机不同的程序分类
### 1.2 计算机系统结构
#### 1.2.1 系统结构基本概念
* **系统结构**：从程序设计者的角度所看到的系统的属性，即概念性结构和功能特性。
* **计算机系统结构**：指**机器语言程序**的设计者或是**编译程序**设计者所看到的计算机系统的**概念性结构与功能特性**。 
* **透明性**：一种本来存在，有差异的事物和属性，从某种角度上看又好像不存在的现象，被称为是“透明性”。Exp：高级语言程序员看不到不同机器的差异性。
#### 1.2.2 计算机系统结构、组成与实现
* 计算机**系统结构**：**机器语言级**的程序员所了解的**计算机的属性**，即**外特性**。
  * 数据表示、寄存器定义、指令系统、中断系统、存储系统、I/O、及其工作状态、信息保护。
* 计算机**组成**：计算机**系统结构**的**逻辑实现**。
  * 数据通路宽度、专用部件的设置、各功能部件、控制机构组成方法、缓冲技术……
* 计算机**实现**：计算机**组成**的**物理实现**。
  * 逻辑设计的物理实现
* 计算机系统的结构、组成、实现**相互依赖相互影响**。
* 指令系统--结构，乘法指令--组成，主存系统--实现。
#### 1.2.3 系统机构分类
1. **弗林分类法(FLYNN)**：
  * **指令流**(指令传送序列)
  * **数据流**(数据传送、加工序列)
  * **多倍性**(系统瓶颈部件上同一阶段执行的指令或数据最大可能个数)。
* 单指令流，单数据流--**SISD**(传统顺序处理机)、
* 单指令流，多数据流--**SIMD**(阵列机，并行处理机)
* 多指令流，单数据流--**MISD**(RISC机，向量机)
* 多指令流，多数据流--**MIMD**(多处理机系统)
2. 冯氏分类法
   * 最大并行度：计算机单位时间内能处理的最大二进制位数。
   * 一个字中同时处理二进制的位数&一个位片或功能部件中能同时处理的字数
3. 汉德勒法
   * 硬件设备结构的并行级和流水线的程度分类。
   * 程序控制部件个数，算数逻辑运算部件，基本逻辑线路套数。
### 1.3 计算机系统设计
#### 1.3.1 设计原则
##### 1. 加速使用频率高的部件--提高整个计算机性能
##### 2. Amdahl定律
* **Amdahl定律**：衡量系统性能提升的指标--**加速比**
* **加速比** = 采用改进措施**后的性能** / 采用改进措施**前的性能**
* **加速比**($S_p$) = 采用改进措施**前的耗时** ($T_e$)/ 采用改进措施**后的耗时**($T_0$)
* $f_e$：可改进部分在原系统计算时间中占比，<1;
* $r_e$：性能提高倍数，可改进部分的改进前耗时 / 改进后耗时，>1。
* $f_e/r_e$：改进后改进部分时间 / 改进前整个任务时间
$$
S_p = T_e/T_0
\\T_0 = T_e(1-f_e + f_e/r_e)
\\S_p = \frac{1}{(1-f_e + f_e/r_e)}
\\ \lim_{r_e \to \inf}S_p = \frac{1}{1-f_e}
$$
* 为获取较高的加速比，功能性增强的部分需要**占有较大的比例**($f_e$尽量大)。
##### 3. 程序访问局部性原理
* 局部性:程序往往重复使用**刚使用过的数据和指令**。
    * 时间局部性：近期被访问的代码，不就将再次被访问
    * 空间局部性：地指上相邻的代码可能被连续访问。
#### 1.3.2 设计方法
* 软硬件**功能的分配**，考虑：功能要求、性能要求、成本要求。
* **设计方法**：自下而上、自上而下(专用机)、**由中间开始**(最好)
#### 1.3.3 设计步骤
* 需求分析、需求说明、概念性设计、具体设计、优化和评价
* 获得尽可能高的性能价格比。
### 1.4 计算机性能评价
* 计算机性能以及系统评价的目标都指：**系统速度的性能**(通常用**响应时间**衡量)
* **响应时间**：任务送入计算机--得到结果。受磁盘速度，内存速度，CPU运算速度等影响。
#### 1.4.1 CPU性能
* $T_{CPU}$：CPU执行用户程序所用时间
* $I_N$：INS number
* CPI：每条指令所需**平均周期数**= 总周期数 / 总指令数
* $T_C$：时钟周期
$$
T_{CPU} = I_N\times CPI\times T_C
$$
#### 1.4.2 MIPS & MFLOPS
* MIPS：每秒执行指令条数（百万）
$$
MIPS = \frac{指令总数}{执行时间 \times 10^6} = \frac{时钟频率}{CPI\times 10^6} 
$$
* MFLOPS：每秒浮点操作次数（百万）
$$
MFLOPS = \frac{浮点操作次数}{执行时间\times 10^6}
$$
### 1.5 计算机系统层次结构
1. 运算器中心，除了完成运算以外，机器内部的数据传送都经过运算器，控制器集中控制。
2. 存储器是字长固定的、顺序线性编址的一维结构。 
3. 程序存储，指令和数据都存放在存储器中。 
4. 指令在存储器中按其执行顺序存放，由一个顺序控制器指定即将被执行的指令地址。
5. 指令由操作码和地址码组成。 
6. 数据以二进制表示。  
* 改进：
1. 数据类型增加
2. 指令种类、寻址方式增加
3. 以存储器为中心
4. 处理器采用新技术——堆栈、流水等


## Chap2 指令系统
* 大题：霍夫曼编码相关
* 概念比较零碎
* RISC&CISC


## Chap3 储存系统
* CACHE大题--15'


## Chap4 流水线技术
* 三个作业大题都考
* 先写后读相关：


## Chap5 并行处理机和多处理机




